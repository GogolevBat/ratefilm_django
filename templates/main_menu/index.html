{% extends 'title/../universe/../universe/base.html' %}

{% block head %}

    <style>
        .style_title {
            background-color: #fff2fe;
            border: 1px solid #f0fad4;
            color: #000000;
            padding: 10px;
            margin-top: 10px;
        }
    </style>

    <style>
        .poster-container {
            display: flex;
            overflow-x: auto;
            white-space: nowrap;
        }

        .poster-item {
            position: relative;
            margin-right: 10px;
            display: inline-block;
        }

        .poster-item img {
            width: 200px;
            height: 300px;
            object-fit: cover;
            display: block; /* Чтобы убрать небольшой отступ снизу */
        }

        .poster-title {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px;
            box-sizing: border-box;
            overflow: hidden;
        }
        .poster-ratefilm {
            position: absolute;
            top: 5px;
            left: 5px;
            width: 20%; 
            {#background-color: rgba(255,84,1, 0.9);#}

            background-color: rgba(169, 242, 245, 0.9);
            color: black;
            padding: 2px 2px 2px;
            box-sizing: border-box;
            border-radius: 90px;
            text-align: center;
            {#border-bottom-right-radius: 90px;#}
            {#border-top-right-radius: 90px;#}
        }
        .poster-kprate {
            box-shadow: 0 0 5px rgba(0, 0, 0, 1);
            position: absolute;
            top: 5px;
            left: 80px;
            width: 20%; 
            background-color: rgba(255,84,1, 0.9);

            {#background-color: rgba(255, 209, 218, 0.9);#}
            color: black;
            padding: 2px 2px 2px;
            box-sizing: border-box;
            border-radius: 90px;
            text-align: center;
            {#border-bottom-right-radius: 90px;#}
            {#border-top-right-radius: 90px;#}
        }
        
        .poster-imdbrate {
            position: absolute;
            top: 5px;
            right: 5px;
            width: 20%;
            background-color: rgba(245, 197, 24, 0.9);
            {#169, 242, 245#}
            color: black;
            padding: 2px 2px 2px;
            box-sizing: border-box;
            border-radius: 90px;
            text-align: center;
        }
    </style>
{% endblock %}

{% block content %}
    {% if request.user.is_authenticated %}
        <h2><a href="accounts/register/" style="color: black"><img
                src="https://avatars.mds.yandex.net/i?id=f7d6fe8915ceeefa21ee33030f762714e26a235d-11844875-images-thumbs&n=13"
                alt="mdo" width="64" height="64" class="rounded-circle" style="border: 2px solid black;"><span>{{ request.user.username | title }}</span></a>
        </h2>

        <div style="display: flex; gap: 20px; flex-direction: row;">
            <div style="flex: 1; text-align: center;">
                <a href="/favorites"><h5>Избранные</h5></a>
            </div>

            <div style="flex: 1; text-align: center;">
                <a href="/viewed"><h5>Оценки (Просмотрено)</h5></a>
            </div>

            <div style="flex: 1; text-align: center;">
                <a href="/pin"><h5>Хочу посмотреть</h5></a>
            </div>
        </div>
    {% endif %}
{#    <div style="width: 400px; margin: auto;">#}
{#        <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="false">#}
{#            <div class="carousel-indicators">#}
{#                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"#}
{#                        aria-current="true" aria-label="Slide 1"></button>#}
{#                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"#}
{#                        aria-label="Slide 2"></button>#}
{#                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"#}
{#                        aria-label="Slide 3"></button>#}
{#                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3"#}
{#                        aria-label="Slide 4"></button>#}
{#                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="4"#}
{#                        aria-label="Slide 5"></button>#}
{#            </div>#}
{#            <div class="carousel-inner">#}
{#                <div class="carousel-item active">#}
{#                    <img src="{{ title_first.backdrop }}" class="d-block w-100"#}
{#                         onerror="this.onerror=null; this.src='https://cloud.mail.ru/public/5U6p/PfX7j25G6'"#}
{#                         alt="{{ title_first.name }}">#}
{#                    <div class="carousel-caption d-none d-md-block">#}
{#                        <h5>{{ title_first.name }}</h5>#}
{#                        <p>Некоторый репрезентативный заполнитель для первого слайда.</p>#}
{#                    </div>#}
{#                </div>#}
{#                {% for title in list_titles %}#}
{#                    <div class="carousel-item">#}
{#                        <img src="{{ title.backdrop }}" class="d-block w-100" alt="{{ title.name }}">#}
{#                        <div class="carousel-caption d-none d-md-block">#}
{#                            <h5>{{ title.name }}</h5>#}
{#                            <p>Некоторый репрезентативный заполнитель для второго слайда.</p>#}
{#                        </div>#}
{#                    </div>#}
{#                {% endfor %}#}
{#                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"#}
{#                        data-bs-slide="prev">#}
{#                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>#}
{#                    <span class="visually-hidden">Предыдущий</span>#}
{#                </button>#}
{#                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"#}
{#                        data-bs-slide="next">#}
{#                    <span class="carousel-control-next-icon" aria-hidden="true"></span>#}
{#                    <span class="visually-hidden">Следующий</span>#}
{#                </button>#}
{#            </div>#}
{#        </div>#}
{#    </div>#}
    <h3>Хорошие оценки</h3>
    <div class="poster-container">
        {% for title in list_titles %}
            <div class="poster-item">
                <a href="/title/{{ title.id }}">
                    <img src="{{ title.poster }}" alt="{{ title.name }}">
                    <div class="poster-title">{{ title.name }}</div>
                    <div class="poster-kprate">{{ title.kp_rate }}</div>
                    <div class="poster-imdbrate">{{ title.imdb_rate }}</div>

                </a>
            </div>
        {% endfor %}
    </div>
    <h3>Буду смотреть</h3>

    <div class="poster-container">
        {% for title in last_pined %}
            <div class="poster-item">
                <a href="/title/{{ title.id }}">
                    <img src="{{ title.poster }}" alt="{{ title.name }}">
                    <div class="poster-title">{{ title.name }}</div>
                    <div class="poster-ratefilm">{{ title.imdb_rate }}</div>
                    <div class="poster-kprate">{{ title.kp_rate }}</div>
                    <div class="poster-imdbrate">{{ title.imdb_rate }}</div>
                    
                       
                </a>
            </div>
        {% endfor %}
    </div>
    <div style="height: 100px"></div>
{% endblock %}

